appId: ${MAESTRO_APP_ID}
---
- tapOn:
    id: 'Mettre en favori'
- tapOn:
    id: 'Revenir en arrière'

- scroll

- runFlow:
    when:
      platform: iOS
    commands:
      - tapOn:
          text: "CD"
          index: 3

- runFlow:
    when:
      platform: Android
    commands:
    - tapOn:
        text: 'CD'
        index: 1

- runFlow:
    when:
      platform: Android
      visible:
        id: 'Retirer des favoris'
    commands:
      - tapOn:
          id: "Revenir en arrière"
      - scroll
      - tapOn:
          text: 'CD'
          index: 3

- runFlow:
    when:
      platform: iOS
      visible:
        id: 'Retirer des favoris'
    commands:
      - tapOn:
          id: "Revenir en arrière"
      - scroll
      - tapOn:
          text: "CD"

- tapOn:
    id: 'Mettre en favori'
- tapOn:
    id: 'Revenir en arrière'

- scroll
- runFlow:
    when:
      platform: Android
      visible:
        id: 'Retirer des favoris'
    commands:
      - tapOn:
          id: "Revenir en arrière"
      - scroll
      - tapOn:
          text: 'CD'
          index: 3

- runFlow:
    when:
      platform: iOS
      visible:
        id: 'Retirer des favoris'
    commands:
      - tapOn:
          id: "Revenir en arrière"
      - scroll
      - tapOn:
          text: "CD"
          index: 3

- runFlow:
    when:
      platform: iOS
    commands:
    - scroll
    - tapOn: 
        text: "CD"
        index: 3
    - tapOn:
        id: 'Mettre en favori'
    - tapOn:
        id: "Revenir en arrière"

- runFlow:
    when:
      platform: Android
    commands:
    - tapOn:
        text: 'CD'
        index: 2
    - tapOn:
        id: 'Mettre en favori'
    - tapOn:
        id: 'Revenir en arrière'
        retryTapIfNoChange: false
