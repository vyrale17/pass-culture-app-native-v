appId: ${MAESTRO_APP_ID}
---
- assertVisible:
    id: "Trier"
- tapOn:
    id: "Trier"

- assertVisible: "Trier par"
- assertVisible: ".*Ajouté récemment.*"
- assertVisible: ".*Prix croissant.*"
- assertVisible: ".*Proximité géographique.*"

- tapOn: ".*Prix croissant.*"
- tapOn: "Valider"

- assertVisible: "3 favoris"
- tapOn:
    id: "Trier"

- tapOn: ".*Proximité géographique.*"

- runFlow:
    when:
      visible: "Activer la géolocalisation"
    commands:
    - tapOn: "Activer la géolocalisation"
    - tapOn: "Autorisations"
    - tapOn: "Position"
    - tapOn: "Autoriser seulement si l'appli est utilisée"
    - pressKey: back
    - pressKey: back
    - pressKey: back

- tapOn: ".*Proximité géographique.*"
- tapOn: "Valider"

- assertVisible: "3 favoris"
- tapOn:
    id: "Trier"

- tapOn: ".*Ajouté récemment.*"
- tapOn: "Valider"
- assertVisible: "3 favoris"